{"ast":null,"code":"var _jsxFileName = \"/Users/caroline/Desktop/interview/practice/us-army/src/client/componenets/modify-soldier/index.js\";\nimport React, { Component } from 'react';\nimport defaultLogo from './army-logo.png';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { Container, Box, Grid, Button, Input, FormLabel, TextField, RadioGroup, FormControl, Select, MenuItem, Radio, FormControlLabel } from '@material-ui/core';\nimport { getSup } from '../../redux/action-creators/get-all-sup';\nimport { createSoldier } from '../../redux/action-creators/create-soldier';\nimport { editSoldier } from '../../redux/action-creators/edit-soldier';\nimport './style.css';\nimport markOfUSArmy from '../soldier-list/mark-of-us-army-small.png';\nimport { Alert } from '@material-ui/lab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ranks = [\"General\", \"Colonel\", \"Major\", \"Captain\", \"Lieutenant\", \"Warrant Officer\", \"Sergeant\", \"Corporal\", \"Specialist\", \"Private\"];\nconst regs = {\n  startDate: /^\\d{1,2}\\/\\d{1,2}\\/(\\d{4}|\\d{2})$/i,\n  phone: /^(\\d{10}|((\\d{3}|(\\(\\d{3}\\)))-\\d{3}-\\d{4}))$/,\n  email: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n};\n\nconst updateSoldier = page => {\n  class update extends Component {\n    constructor(props) {\n      super(props);\n\n      this.handleChange = state => e => {\n        this.setState({\n          [state]: e.target.value\n        });\n      };\n\n      this.handleAvatar = e => {\n        if (e.target.files.length > 0) {\n          this.setState({\n            avatar: URL.createObjectURL(e.target.files[0]),\n            file: e.target.files[0]\n          });\n        }\n      };\n\n      this.handleSubmit = e => {\n        e.preventDefault();\n        const {\n          name,\n          rank,\n          sex,\n          startDate,\n          phone,\n          email,\n          superior,\n          id\n        } = this.state;\n        const query = {\n          name,\n          rank,\n          sex,\n          startDate,\n          phone: phone.replace(/\\D/g, \"\"),\n          email,\n          superior\n        };\n\n        if (page === \"edit\") {\n          query._id = id;\n        }\n\n        const request = this.props[`${page}Soldier`];\n        request(query, this.state.file, this.props.history);\n      };\n\n      this.validateForm = () => {\n        const {\n          name,\n          rank,\n          startDate,\n          phone,\n          email\n        } = this.state;\n        return name && rank && (startDate === \"\" || regs['startDate'].test(startDate)) && (phone === \"\" || regs['phone'].test(phone)) && (email === \"\" || regs['email'].test(email));\n      };\n\n      this.validateField = field => {\n        const val = this.state[field];\n        return val === \"\" || regs[field].test(val);\n      };\n\n      this.props = props;\n      this.state = {\n        avatar: \"\",\n        file: null,\n        name: \"\",\n        rank: \"\",\n        sex: \"\",\n        startDate: \"\",\n        phone: \"\",\n        email: \"\",\n        superior: \"\"\n      };\n    }\n\n    componentDidMount() {\n      this.props.getSup().then(() => {\n        if (page === \"edit\") {\n          const endPoint = \"http://localhost:4000/api/soldier\";\n          const {\n            id\n          } = this.props.location.state;\n          axios.get(`${endPoint}/${id}`).then(res => {\n            const {\n              avatar,\n              startDate: date,\n              superior\n            } = res.data.soldier;\n            const startDate = new Date(date);\n            this.setState({ ...res.data.soldier,\n              startDate: `${startDate.getMonth() + 1}/${startDate.getDate()}/${startDate.getFullYear()}`,\n              id,\n              superior: superior === null ? \"\" : superior\n            }, () => {\n              if (avatar && Buffer(avatar).byteLength > 0) {\n                this.setState({\n                  avatar: `data:image/png;base64,${Buffer(avatar).toString('base64')}`\n                });\n              } else {\n                this.setState({\n                  avatar: defaultLogo\n                });\n              }\n            });\n          }).catch(err => {\n            console.error(err);\n          });\n        } else {\n          this.setState({\n            avatar: defaultLogo\n          });\n        }\n      });\n    }\n\n    render() {\n      const {\n        avatar,\n        name,\n        rank,\n        sex,\n        startDate,\n        phone,\n        email,\n        superior\n      } = this.state;\n      const {\n        list,\n        history\n      } = this.props;\n      const error = this.props[`${page}Error`];\n      console.log(error);\n      return /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          margin: \"10px 0\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justify: \"center\",\n            alignItems: \"center\",\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              margin: \"0 20px\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: markOfUSArmy,\n                alt: \"army logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), page === \"create\" ? /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"New Soldier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Update Soldier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justify: \"flex-end\",\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 1,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: () => history.push(\"/\"),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 1,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                type: \"submit\",\n                form: \"update-soldier\",\n                className: \"btn\",\n                disabled: !this.validateForm(),\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"update-soldier-form\",\n            id: \"update-soldier\",\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              justify: \"center\",\n              alignItems: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Avatar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"upload-avatar\",\n                  src: avatar,\n                  alt: \"avatar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Select an image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  accept: \"image/*\",\n                  type: \"file\",\n                  onChange: this.handleAvatar\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"column\",\n              xs: 4,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                flexDirection: \"column\",\n                marginBottom: \"10px\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  htmlFor: \"name\",\n                  children: \"Name*:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  size: \"small\",\n                  type: \"text\",\n                  name: \"name\",\n                  value: name,\n                  onChange: this.handleChange(\"name\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                flexDirection: \"column\",\n                marginBottom: \"10px\",\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                    htmlFor: \"rank\",\n                    children: \"Rank*: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    name: \"rank\",\n                    size: \"small\",\n                    value: rank,\n                    onChange: this.handleChange(\"rank\"),\n                    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: \"\",\n                      children: \"NONE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 23\n                    }, this), ranks.map(elem => /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: elem,\n                      children: elem\n                    }, elem, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                marginBottom: \"10px\",\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                    children: \"Sex:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n                    row: true,\n                    \"aria-label\": \"sex\",\n                    name: \"sex\",\n                    children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                      value: \"M\",\n                      control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 62\n                      }, this),\n                      label: \"Male\",\n                      onChange: this.handleChange(\"sex\"),\n                      checked: sex === \"M\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                      value: \"F\",\n                      control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 62\n                      }, this),\n                      label: \"Female\",\n                      onChange: this.handleChange(\"sex\"),\n                      checked: sex === \"F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                flexDirection: \"column\",\n                marginBottom: \"10px\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Start Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"text\",\n                  size: \"small\",\n                  name: \"startDate\",\n                  value: startDate,\n                  error: !this.validateField(\"startDate\"),\n                  helperText: !this.validateField(\"startDate\") && \"Please enter valid date in form of (m)m/(d)d/yy(yy)\",\n                  onChange: this.handleChange(\"startDate\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                flexDirection: \"column\",\n                marginBottom: \"10px\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Office Phone:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"text\",\n                  size: \"small\",\n                  name: \"phone\",\n                  value: phone,\n                  error: !this.validateField(\"phone\"),\n                  helperText: !this.validateField(\"phone\") && \"Please enter valid phone number in form of number or (xxx)-xxx-xxxx or without brackets\",\n                  onChange: this.handleChange(\"phone\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                flexDirection: \"column\",\n                marginBottom: \"10px\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"text\",\n                  size: \"small\",\n                  name: \"email\",\n                  value: email,\n                  error: !this.validateField(\"email\"),\n                  helperText: !this.validateField(\"email\") && \"Please enter valid email address\",\n                  onChange: this.handleChange(\"email\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                flexDirection: \"column\",\n                marginBottom: \"10px\",\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                    children: \"Superior\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    name: \"superior\",\n                    value: superior,\n                    onChange: this.handleChange(\"superior\"),\n                    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: \"\",\n                      children: \"NONE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 23\n                    }, this), list.map(elem => /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: elem._id,\n                      children: elem.name\n                    }, elem._id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n                severity: \"error\",\n                children: error.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this);\n    }\n\n  }\n\n  ;\n\n  const mapStateToProps = state => ({\n    list: state.getAllSup.list,\n    editError: state.editSoldier.error,\n    editState: state.editSoldier.state,\n    createError: state.createSoldier.error,\n    createState: state.createSoldier.state\n  });\n\n  const mapDispatchToProps = dispatch => ({\n    getSup: () => dispatch(getSup()),\n    createSoldier: (query, avatar, history) => dispatch(createSoldier(query, avatar, history)),\n    editSoldier: (query, avatar, history) => dispatch(editSoldier(query, avatar, history))\n  });\n\n  return connect(mapStateToProps, mapDispatchToProps)(update);\n};\n\nexport default updateSoldier;","map":{"version":3,"sources":["/Users/caroline/Desktop/interview/practice/us-army/src/client/componenets/modify-soldier/index.js"],"names":["React","Component","defaultLogo","connect","axios","Container","Box","Grid","Button","Input","FormLabel","TextField","RadioGroup","FormControl","Select","MenuItem","Radio","FormControlLabel","getSup","createSoldier","editSoldier","markOfUSArmy","Alert","ranks","regs","startDate","phone","email","updateSoldier","page","update","constructor","props","handleChange","state","e","setState","target","value","handleAvatar","files","length","avatar","URL","createObjectURL","file","handleSubmit","preventDefault","name","rank","sex","superior","id","query","replace","_id","request","history","validateForm","test","validateField","field","val","componentDidMount","then","endPoint","location","get","res","date","data","soldier","Date","getMonth","getDate","getFullYear","Buffer","byteLength","toString","catch","err","console","error","render","list","log","push","map","elem","message","mapStateToProps","getAllSup","editError","editState","createError","createState","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport defaultLogo from './army-logo.png';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { Container,Box,Grid, Button, Input, FormLabel, TextField, RadioGroup, FormControl, Select, MenuItem, Radio, FormControlLabel } from '@material-ui/core';\r\n\r\nimport { getSup } from '../../redux/action-creators/get-all-sup';\r\nimport { createSoldier } from '../../redux/action-creators/create-soldier';\r\nimport { editSoldier } from '../../redux/action-creators/edit-soldier'\r\nimport './style.css';\r\nimport markOfUSArmy from '../soldier-list/mark-of-us-army-small.png';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nconst ranks = [\"General\", \"Colonel\", \"Major\", \"Captain\", \"Lieutenant\", \"Warrant Officer\", \"Sergeant\", \"Corporal\", \"Specialist\", \"Private\"];\r\nconst regs = {\r\n  startDate: /^\\d{1,2}\\/\\d{1,2}\\/(\\d{4}|\\d{2})$/i,\r\n  phone: /^(\\d{10}|((\\d{3}|(\\(\\d{3}\\)))-\\d{3}-\\d{4}))$/,\r\n  email: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\r\n}\r\n\r\nconst updateSoldier = page => {\r\n  class update extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.props = props;\r\n      this.state = {\r\n        avatar: \"\",\r\n        file: null,\r\n        name: \"\",\r\n        rank: \"\",\r\n        sex: \"\",\r\n        startDate: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        superior: \"\"\r\n      }\r\n    }\r\n    componentDidMount() {\r\n      this.props.getSup().then(() => {\r\n        if (page === \"edit\") {\r\n          const endPoint = \"http://localhost:4000/api/soldier\";\r\n          const { id } = this.props.location.state;\r\n          axios.get(`${endPoint}/${id}`)\r\n          .then(res => {\r\n            const { avatar,startDate: date,superior } = res.data.soldier;\r\n            const startDate = new Date(date);\r\n            this.setState({\r\n              ...res.data.soldier,\r\n              startDate: `${startDate.getMonth()+1}/${startDate.getDate()}/${startDate.getFullYear()}`,\r\n              id,\r\n              superior: superior === null ? \"\" : superior,\r\n            },() => {\r\n              if (avatar && Buffer(avatar).byteLength > 0) {\r\n                this.setState({ avatar: `data:image/png;base64,${Buffer(avatar).toString('base64')}` });\r\n              } else {\r\n                this.setState({ avatar: defaultLogo });\r\n              }\r\n            });\r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n          })\r\n        }\r\n        else {\r\n          this.setState({ avatar:defaultLogo });\r\n        }\r\n      });\r\n    }\r\n    handleChange = (state) => (e) => {\r\n      this.setState({ [state]: e.target.value });\r\n    };\r\n    handleAvatar = e => {\r\n      if (e.target.files.length > 0) {\r\n        this.setState({ \r\n          avatar: URL.createObjectURL(e.target.files[0]),\r\n          file: e.target.files[0],\r\n        });\r\n      }\r\n    }\r\n    handleSubmit = e => {\r\n      e.preventDefault();\r\n      const { name,rank,sex,startDate,phone,email,superior,id } = this.state;\r\n      const query = {\r\n        name,\r\n        rank,\r\n        sex,\r\n        startDate,\r\n        phone: phone.replace(/\\D/g,\"\"),\r\n        email,\r\n        superior\r\n      };\r\n      if (page === \"edit\") {\r\n        query._id = id;\r\n      }\r\n      \r\n      const request = this.props[`${page}Soldier`];\r\n      request(query,this.state.file,this.props.history);\r\n    }\r\n    validateForm = () => {\r\n      const { name,rank,startDate,phone,email } = this.state;\r\n      return (\r\n        name && rank && \r\n        (startDate === \"\" || regs['startDate'].test(startDate)) &&\r\n        (phone === \"\" || regs['phone'].test(phone)) &&\r\n        (email === \"\" || regs['email'].test(email))\r\n      );\r\n    }\r\n    validateField = field => {\r\n      const val = this.state[field];\r\n      return (\r\n        val === \"\" || regs[field].test(val)\r\n      );\r\n      \r\n    }\r\n    render() {\r\n      const { avatar,name,rank,sex,startDate,phone,email,superior } = this.state;\r\n      const { list,history } = this.props;\r\n      const error = this.props[`${page}Error`];\r\n      console.log(error);\r\n      return (\r\n        <Container>\r\n          <Box margin=\"10px 0\">\r\n            <Grid container justify=\"center\" alignItems=\"center\" xs={12}>\r\n              <Box margin=\"0 20px\">\r\n                <img src={markOfUSArmy} alt=\"army logo\" />\r\n              </Box>\r\n              {\r\n                page === \"create\" ? \r\n                <h1>New Soldier</h1> :\r\n                <h1>Update Soldier</h1>\r\n              }\r\n            </Grid>\r\n            <Grid container justify=\"flex-end\" xs={12}>\r\n              <Grid item xs={1}>\r\n                <Button \r\n                variant=\"contained\" \r\n                color=\"primary\" \r\n                onClick={() => history.push(\"/\")}>Cancel\r\n                </Button>\r\n              </Grid>\r\n              <Grid item xs={1}>\r\n                <Button \r\n                variant=\"contained\" \r\n                color=\"primary\" \r\n                type=\"submit\" \r\n                form=\"update-soldier\" \r\n                className=\"btn\" \r\n                disabled={!this.validateForm()}>Save</Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n          <Box>\r\n            <form className=\"update-soldier-form\" id=\"update-soldier\" onSubmit={this.handleSubmit}>\r\n              <Grid container justify=\"center\" alignItems=\"center\">\r\n                <Grid item xs={6}>\r\n                  <h2>Avatar</h2>\r\n                  <img className=\"upload-avatar\" src={avatar} alt=\"avatar\"/>\r\n                  <p>Select an image</p>\r\n                  <Input accept=\"image/*\" type=\"file\" onChange={this.handleAvatar}/>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container direction=\"column\" xs={4}>\r\n                <Box display=\"flex\" flexDirection=\"column\" marginBottom=\"10px\">\r\n                  <FormLabel htmlFor=\"name\">Name*:</FormLabel>\r\n                  <TextField\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name} \r\n                  onChange={this.handleChange(\"name\")}\r\n                  />\r\n                </Box>           \r\n                <Box display=\"flex\" flexDirection=\"column\" marginBottom=\"10px\">\r\n                  <FormControl>\r\n                    <FormLabel htmlFor=\"rank\">Rank*: </FormLabel>\r\n                    <Select \r\n                    name=\"rank\"\r\n                    size=\"small\"\r\n                    value={rank} \r\n                    onChange={this.handleChange(\"rank\")}\r\n                    >\r\n                      <MenuItem value=\"\">NONE</MenuItem>\r\n                      {\r\n                        ranks.map(elem => (\r\n                          <MenuItem value={elem} key={elem}>{elem}</MenuItem>\r\n                        ))\r\n                      }\r\n                    </Select>\r\n                  </FormControl>\r\n                </Box>\r\n                <Box marginBottom=\"10px\">\r\n                  <FormControl>\r\n                    <FormLabel>Sex:</FormLabel>\r\n                    <RadioGroup row aria-label=\"sex\" name=\"sex\">\r\n                        <FormControlLabel value=\"M\" control={<Radio />} label=\"Male\" \r\n                        onChange={this.handleChange(\"sex\")} checked={sex === \"M\"}></FormControlLabel>\r\n                        <FormControlLabel value=\"F\" control={<Radio />} label=\"Female\" \r\n                        onChange={this.handleChange(\"sex\")} checked={sex === \"F\"}></FormControlLabel>\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </Box>\r\n                <Box display=\"flex\" flexDirection=\"column\" marginBottom=\"10px\">\r\n                  <FormLabel>Start Date:</FormLabel>\r\n                  <TextField type=\"text\" size=\"small\"\r\n                  name=\"startDate\" value={startDate} \r\n                  error={!this.validateField(\"startDate\")}\r\n                  helperText={!this.validateField(\"startDate\") && \"Please enter valid date in form of (m)m/(d)d/yy(yy)\"}\r\n                  onChange={this.handleChange(\"startDate\")}/>\r\n                </Box>\r\n                <Box display=\"flex\" flexDirection=\"column\" marginBottom=\"10px\">\r\n                  <FormLabel>Office Phone:</FormLabel>\r\n                  <TextField type=\"text\" size=\"small\"\r\n                  name=\"phone\" value={phone} \r\n                  error={!this.validateField(\"phone\")}\r\n                  helperText={!this.validateField(\"phone\") && \"Please enter valid phone number in form of number or (xxx)-xxx-xxxx or without brackets\"}\r\n                  onChange={this.handleChange(\"phone\")}/>\r\n                </Box>\r\n                <Box display=\"flex\" flexDirection=\"column\" marginBottom=\"10px\">\r\n                  <FormLabel>Email:</FormLabel>\r\n                  <TextField type=\"text\" size=\"small\"\r\n                  name=\"email\" value={email} \r\n                  error={!this.validateField(\"email\")}\r\n                  helperText={!this.validateField(\"email\") && \"Please enter valid email address\"}\r\n                  onChange={this.handleChange(\"email\")}/>\r\n                </Box>\r\n                <Box display=\"flex\" flexDirection=\"column\" marginBottom=\"10px\">\r\n                  <FormControl>\r\n                    <FormLabel>Superior</FormLabel>\r\n                    <Select \r\n                    name=\"superior\"\r\n                    value={superior}\r\n                    \r\n                    onChange={this.handleChange(\"superior\")}>\r\n                      <MenuItem value=\"\">NONE</MenuItem>\r\n                      {\r\n                        list.map(elem => (\r\n                          <MenuItem value={elem._id} key={elem._id}>{elem.name}</MenuItem>\r\n                        ))\r\n                      }\r\n                    </Select>\r\n                  </FormControl>\r\n                </Box>\r\n                {\r\n                  error && \r\n                  <Alert severity=\"error\">{error.message}</Alert>\r\n                }\r\n              </Grid>\r\n            </form>\r\n          </Box>\r\n        </Container>\r\n      );\r\n    }\r\n  };\r\n\r\n  const mapStateToProps = state => ({\r\n    list: state.getAllSup.list,\r\n    editError: state.editSoldier.error,\r\n    editState: state.editSoldier.state,\r\n    createError: state.createSoldier.error,\r\n    createState: state.createSoldier.state,\r\n  });\r\n  const mapDispatchToProps = dispatch => ({\r\n    getSup: () => dispatch(getSup()),\r\n    createSoldier: (query,avatar,history) => dispatch(createSoldier(query,avatar,history)),\r\n    editSoldier: (query,avatar,history) => dispatch(editSoldier(query,avatar,history)),\r\n  });\r\n  return connect(mapStateToProps,mapDispatchToProps)(update);\r\n};\r\n\r\nexport default updateSoldier;"]},"metadata":{},"sourceType":"module"}